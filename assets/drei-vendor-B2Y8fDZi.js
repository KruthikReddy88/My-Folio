import{r as ht,a as i}from"./react-vendor-BGrwFi4G.js";import{V as A,a as S,M as G,T as V,S as ve,Q as Ie,O as de,P as he,R as bt,b as vt,c as gt,d as yt,e as xt,f as Et,C as Pt,A as wt,g as Ot,D as X,h as Mt}from"./three-vendor-B76MXahL.js";import{u as Y,a as $}from"./fiber-vendor-CLCQ_Be5.js";var _t,Ne=ht;_t=Ne.createRoot,Ne.hydrateRoot;function k(){return k=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)({}).hasOwnProperty.call(o,e)&&(r[e]=o[e])}return r},k.apply(null,arguments)}function K(r,n,o){return n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function Fe(r,n){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),o.push.apply(o,e)}return o}function ke(r){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?Fe(Object(o),!0).forEach(function(e){K(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Fe(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}new A;new A;function Ke(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var D=function r(n,o,e){var f=this;Ke(this,r),K(this,"dot2",function(p,h){return f.x*p+f.y*h}),K(this,"dot3",function(p,h,c){return f.x*p+f.y*h+f.z*c}),this.x=n,this.y=o,this.z=e},Tt=[new D(1,1,0),new D(-1,1,0),new D(1,-1,0),new D(-1,-1,0),new D(1,0,1),new D(-1,0,1),new D(1,0,-1),new D(-1,0,-1),new D(0,1,1),new D(0,-1,1),new D(0,1,-1),new D(0,-1,-1)],Ue=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Ye=new Array(512),He=new Array(512),At=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var o=0;o<256;o++){var e;o&1?e=Ue[o]^n&255:e=Ue[o]^n>>8&255,Ye[o]=Ye[o+256]=e,He[o]=He[o+256]=Tt[e%12]}};At(0);function St(r){if(typeof r=="number")r=Math.abs(r);else if(typeof r=="string"){var n=r;r=0;for(var o=0;o<n.length;o++)r=(r+(o+1)*(n.charCodeAt(o)%96))%2147483647}return r===0&&(r=311),r}function We(r){var n=St(r);return function(){var o=n*48271%2147483647;return n=o,o/2147483647}}var jt=function r(n){var o=this;Ke(this,r),K(this,"seed",0),K(this,"init",function(e){o.seed=e,o.value=We(e)}),K(this,"value",We(this.seed)),this.init(n)},Dt=new jt(Math.random()),Rt={radius:1,center:[0,0,0]};function rn(r,n){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dt,e=ke(ke({},Rt),n),f=e.radius,p=e.center,h=0;h<r.length;h+=3){var c=Math.pow(o.value(),.3333333333333333),l=o.value()*2-1,g=o.value()*2-1,m=o.value()*2-1,v=Math.sqrt(l*l+g*g+m*m);l=c*l/v,g=c*g/v,m=c*m/v,r[h]=l*f+p[0],r[h+1]=g*f+p[1],r[h+2]=m*f+p[2]}return r}let te;function an(){var r;if(te!==void 0)return te;try{let n;const o=document.createElement("canvas");return te=!!(window.WebGL2RenderingContext&&(n=o.getContext("webgl2"))),n&&((r=n.getExtension("WEBGL_lose_context"))==null||r.loseContext()),te}catch{return te=!1}}var Lt=Object.defineProperty,zt=(r,n,o)=>n in r?Lt(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o,Ct=(r,n,o)=>(zt(r,n+"",o),o);class It{constructor(){Ct(this,"_listeners")}addEventListener(n,o){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[n]===void 0&&(e[n]=[]),e[n].indexOf(o)===-1&&e[n].push(o)}hasEventListener(n,o){if(this._listeners===void 0)return!1;const e=this._listeners;return e[n]!==void 0&&e[n].indexOf(o)!==-1}removeEventListener(n,o){if(this._listeners===void 0)return;const f=this._listeners[n];if(f!==void 0){const p=f.indexOf(o);p!==-1&&f.splice(p,1)}}dispatchEvent(n){if(this._listeners===void 0)return;const e=this._listeners[n.type];if(e!==void 0){n.target=this;const f=e.slice(0);for(let p=0,h=f.length;p<h;p++)f[p].call(this,n);n.target=null}}}var Nt=Object.defineProperty,Ft=(r,n,o)=>n in r?Nt(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o,s=(r,n,o)=>(Ft(r,typeof n!="symbol"?n+"":n,o),o);const ie=new bt,Ze=new vt,kt=Math.cos(70*(Math.PI/180)),Ge=(r,n)=>(r%n+n)%n;let Ut=class extends It{constructor(n,o){super(),s(this,"object"),s(this,"domElement"),s(this,"enabled",!0),s(this,"target",new S),s(this,"minDistance",0),s(this,"maxDistance",1/0),s(this,"minZoom",0),s(this,"maxZoom",1/0),s(this,"minPolarAngle",0),s(this,"maxPolarAngle",Math.PI),s(this,"minAzimuthAngle",-1/0),s(this,"maxAzimuthAngle",1/0),s(this,"enableDamping",!1),s(this,"dampingFactor",.05),s(this,"enableZoom",!0),s(this,"zoomSpeed",1),s(this,"enableRotate",!0),s(this,"rotateSpeed",1),s(this,"enablePan",!0),s(this,"panSpeed",1),s(this,"screenSpacePanning",!0),s(this,"keyPanSpeed",7),s(this,"zoomToCursor",!1),s(this,"autoRotate",!1),s(this,"autoRotateSpeed",2),s(this,"reverseOrbit",!1),s(this,"reverseHorizontalOrbit",!1),s(this,"reverseVerticalOrbit",!1),s(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),s(this,"mouseButtons",{LEFT:G.ROTATE,MIDDLE:G.DOLLY,RIGHT:G.PAN}),s(this,"touches",{ONE:V.ROTATE,TWO:V.DOLLY_PAN}),s(this,"target0"),s(this,"position0"),s(this,"zoom0"),s(this,"_domElementKeyEvents",null),s(this,"getPolarAngle"),s(this,"getAzimuthalAngle"),s(this,"setPolarAngle"),s(this,"setAzimuthalAngle"),s(this,"getDistance"),s(this,"getZoomScale"),s(this,"listenToKeyEvents"),s(this,"stopListenToKeyEvents"),s(this,"saveState"),s(this,"reset"),s(this,"update"),s(this,"connect"),s(this,"dispose"),s(this,"dollyIn"),s(this,"dollyOut"),s(this,"getScale"),s(this,"setScale"),this.object=n,this.domElement=o,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=t=>{let a=Ge(t,2*Math.PI),u=m.phi;u<0&&(u+=2*Math.PI),a<0&&(a+=2*Math.PI);let d=Math.abs(a-u);2*Math.PI-d<d&&(a<u?a+=2*Math.PI:u+=2*Math.PI),v.phi=a-u,e.update()},this.setAzimuthalAngle=t=>{let a=Ge(t,2*Math.PI),u=m.theta;u<0&&(u+=2*Math.PI),a<0&&(a+=2*Math.PI);let d=Math.abs(a-u);2*Math.PI-d<d&&(a<u?a+=2*Math.PI:u+=2*Math.PI),v.theta=a-u,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",fe),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",fe),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(f),e.update(),l=c.NONE},this.update=(()=>{const t=new S,a=new S(0,1,0),u=new Ie().setFromUnitVectors(n.up,a),d=u.clone().invert(),O=new S,I=new Ie,U=2*Math.PI;return function(){const Ce=e.object.position;u.setFromUnitVectors(n.up,a),d.copy(u).invert(),t.copy(Ce).sub(e.target),t.applyQuaternion(u),m.setFromVector3(t),e.autoRotate&&l===c.NONE&&se(Qe()),e.enableDamping?(m.theta+=v.theta*e.dampingFactor,m.phi+=v.phi*e.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let N=e.minAzimuthAngle,F=e.maxAzimuthAngle;isFinite(N)&&isFinite(F)&&(N<-Math.PI?N+=U:N>Math.PI&&(N-=U),F<-Math.PI?F+=U:F>Math.PI&&(F-=U),N<=F?m.theta=Math.max(N,Math.min(F,m.theta)):m.theta=m.theta>(N+F)/2?Math.max(N,m.theta):Math.min(F,m.theta)),m.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,m.phi)),m.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(P,e.dampingFactor):e.target.add(P),e.zoomToCursor&&C||e.object.isOrthographicCamera?m.radius=ue(m.radius):m.radius=ue(m.radius*E),t.setFromSpherical(m),t.applyQuaternion(d),Ce.copy(e.target).add(t),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(v.theta*=1-e.dampingFactor,v.phi*=1-e.dampingFactor,P.multiplyScalar(1-e.dampingFactor)):(v.set(0,0,0),P.set(0,0,0));let Q=!1;if(e.zoomToCursor&&C){let J=null;if(e.object instanceof he&&e.object.isPerspectiveCamera){const ee=t.length();J=ue(ee*E);const ae=ee-J;e.object.position.addScaledVector(B,ae),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const ee=new S(L.x,L.y,0);ee.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/E)),e.object.updateProjectionMatrix(),Q=!0;const ae=new S(L.x,L.y,0);ae.unproject(e.object),e.object.position.sub(ae).add(ee),e.object.updateMatrixWorld(),J=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;J!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(J).add(e.object.position):(ie.origin.copy(e.object.position),ie.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(ie.direction))<kt?n.lookAt(e.target):(Ze.setFromNormalAndCoplanarPoint(e.object.up,e.target),ie.intersectPlane(Ze,e.target))))}else e.object instanceof de&&e.object.isOrthographicCamera&&(Q=E!==1,Q&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/E)),e.object.updateProjectionMatrix()));return E=1,C=!1,Q||O.distanceToSquared(e.object.position)>g||8*(1-I.dot(e.object.quaternion))>g?(e.dispatchEvent(f),O.copy(e.object.position),I.copy(e.object.quaternion),Q=!1,!0):!1}})(),this.connect=t=>{e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Le),e.domElement.addEventListener("pointerdown",De),e.domElement.addEventListener("pointercancel",q),e.domElement.addEventListener("wheel",Re)},this.dispose=()=>{var t,a,u,d,O,I;e.domElement&&(e.domElement.style.touchAction="auto"),(t=e.domElement)==null||t.removeEventListener("contextmenu",Le),(a=e.domElement)==null||a.removeEventListener("pointerdown",De),(u=e.domElement)==null||u.removeEventListener("pointercancel",q),(d=e.domElement)==null||d.removeEventListener("wheel",Re),(O=e.domElement)==null||O.ownerDocument.removeEventListener("pointermove",pe),(I=e.domElement)==null||I.ownerDocument.removeEventListener("pointerup",q),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",fe)};const e=this,f={type:"change"},p={type:"start"},h={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=c.NONE;const g=1e-6,m=new ve,v=new ve;let E=1;const P=new S,w=new A,M=new A,_=new A,j=new A,R=new A,T=new A,z=new A,x=new A,y=new A,B=new S,L=new A;let C=!1;const b=[],oe={};function Qe(){return 2*Math.PI/60/60*e.autoRotateSpeed}function H(){return Math.pow(.95,e.zoomSpeed)}function se(t){e.reverseOrbit||e.reverseHorizontalOrbit?v.theta+=t:v.theta-=t}function ye(t){e.reverseOrbit||e.reverseVerticalOrbit?v.phi+=t:v.phi-=t}const xe=(()=>{const t=new S;return function(u,d){t.setFromMatrixColumn(d,0),t.multiplyScalar(-u),P.add(t)}})(),Ee=(()=>{const t=new S;return function(u,d){e.screenSpacePanning===!0?t.setFromMatrixColumn(d,1):(t.setFromMatrixColumn(d,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(u),P.add(t)}})(),Z=(()=>{const t=new S;return function(u,d){const O=e.domElement;if(O&&e.object instanceof he&&e.object.isPerspectiveCamera){const I=e.object.position;t.copy(I).sub(e.target);let U=t.length();U*=Math.tan(e.object.fov/2*Math.PI/180),xe(2*u*U/O.clientHeight,e.object.matrix),Ee(2*d*U/O.clientHeight,e.object.matrix)}else O&&e.object instanceof de&&e.object.isOrthographicCamera?(xe(u*(e.object.right-e.object.left)/e.object.zoom/O.clientWidth,e.object.matrix),Ee(d*(e.object.top-e.object.bottom)/e.object.zoom/O.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function ce(t){e.object instanceof he&&e.object.isPerspectiveCamera||e.object instanceof de&&e.object.isOrthographicCamera?E=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function re(t){ce(E/t)}function le(t){ce(E*t)}function Pe(t){if(!e.zoomToCursor||!e.domElement)return;C=!0;const a=e.domElement.getBoundingClientRect(),u=t.clientX-a.left,d=t.clientY-a.top,O=a.width,I=a.height;L.x=u/O*2-1,L.y=-(d/I)*2+1,B.set(L.x,L.y,1).unproject(e.object).sub(e.object.position).normalize()}function ue(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function we(t){w.set(t.clientX,t.clientY)}function Je(t){Pe(t),z.set(t.clientX,t.clientY)}function Oe(t){j.set(t.clientX,t.clientY)}function et(t){M.set(t.clientX,t.clientY),_.subVectors(M,w).multiplyScalar(e.rotateSpeed);const a=e.domElement;a&&(se(2*Math.PI*_.x/a.clientHeight),ye(2*Math.PI*_.y/a.clientHeight)),w.copy(M),e.update()}function tt(t){x.set(t.clientX,t.clientY),y.subVectors(x,z),y.y>0?re(H()):y.y<0&&le(H()),z.copy(x),e.update()}function nt(t){R.set(t.clientX,t.clientY),T.subVectors(R,j).multiplyScalar(e.panSpeed),Z(T.x,T.y),j.copy(R),e.update()}function ot(t){Pe(t),t.deltaY<0?le(H()):t.deltaY>0&&re(H()),e.update()}function rt(t){let a=!1;switch(t.code){case e.keys.UP:Z(0,e.keyPanSpeed),a=!0;break;case e.keys.BOTTOM:Z(0,-e.keyPanSpeed),a=!0;break;case e.keys.LEFT:Z(e.keyPanSpeed,0),a=!0;break;case e.keys.RIGHT:Z(-e.keyPanSpeed,0),a=!0;break}a&&(t.preventDefault(),e.update())}function Me(){if(b.length==1)w.set(b[0].pageX,b[0].pageY);else{const t=.5*(b[0].pageX+b[1].pageX),a=.5*(b[0].pageY+b[1].pageY);w.set(t,a)}}function _e(){if(b.length==1)j.set(b[0].pageX,b[0].pageY);else{const t=.5*(b[0].pageX+b[1].pageX),a=.5*(b[0].pageY+b[1].pageY);j.set(t,a)}}function Te(){const t=b[0].pageX-b[1].pageX,a=b[0].pageY-b[1].pageY,u=Math.sqrt(t*t+a*a);z.set(0,u)}function at(){e.enableZoom&&Te(),e.enablePan&&_e()}function it(){e.enableZoom&&Te(),e.enableRotate&&Me()}function Ae(t){if(b.length==1)M.set(t.pageX,t.pageY);else{const u=me(t),d=.5*(t.pageX+u.x),O=.5*(t.pageY+u.y);M.set(d,O)}_.subVectors(M,w).multiplyScalar(e.rotateSpeed);const a=e.domElement;a&&(se(2*Math.PI*_.x/a.clientHeight),ye(2*Math.PI*_.y/a.clientHeight)),w.copy(M)}function Se(t){if(b.length==1)R.set(t.pageX,t.pageY);else{const a=me(t),u=.5*(t.pageX+a.x),d=.5*(t.pageY+a.y);R.set(u,d)}T.subVectors(R,j).multiplyScalar(e.panSpeed),Z(T.x,T.y),j.copy(R)}function je(t){const a=me(t),u=t.pageX-a.x,d=t.pageY-a.y,O=Math.sqrt(u*u+d*d);x.set(0,O),y.set(0,Math.pow(x.y/z.y,e.zoomSpeed)),re(y.y),z.copy(x)}function st(t){e.enableZoom&&je(t),e.enablePan&&Se(t)}function ct(t){e.enableZoom&&je(t),e.enableRotate&&Ae(t)}function De(t){var a,u;e.enabled!==!1&&(b.length===0&&((a=e.domElement)==null||a.ownerDocument.addEventListener("pointermove",pe),(u=e.domElement)==null||u.ownerDocument.addEventListener("pointerup",q)),mt(t),t.pointerType==="touch"?pt(t):lt(t))}function pe(t){e.enabled!==!1&&(t.pointerType==="touch"?ft(t):ut(t))}function q(t){var a,u,d;dt(t),b.length===0&&((a=e.domElement)==null||a.releasePointerCapture(t.pointerId),(u=e.domElement)==null||u.ownerDocument.removeEventListener("pointermove",pe),(d=e.domElement)==null||d.ownerDocument.removeEventListener("pointerup",q)),e.dispatchEvent(h),l=c.NONE}function lt(t){let a;switch(t.button){case 0:a=e.mouseButtons.LEFT;break;case 1:a=e.mouseButtons.MIDDLE;break;case 2:a=e.mouseButtons.RIGHT;break;default:a=-1}switch(a){case G.DOLLY:if(e.enableZoom===!1)return;Je(t),l=c.DOLLY;break;case G.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;Oe(t),l=c.PAN}else{if(e.enableRotate===!1)return;we(t),l=c.ROTATE}break;case G.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;we(t),l=c.ROTATE}else{if(e.enablePan===!1)return;Oe(t),l=c.PAN}break;default:l=c.NONE}l!==c.NONE&&e.dispatchEvent(p)}function ut(t){if(e.enabled!==!1)switch(l){case c.ROTATE:if(e.enableRotate===!1)return;et(t);break;case c.DOLLY:if(e.enableZoom===!1)return;tt(t);break;case c.PAN:if(e.enablePan===!1)return;nt(t);break}}function Re(t){e.enabled===!1||e.enableZoom===!1||l!==c.NONE&&l!==c.ROTATE||(t.preventDefault(),e.dispatchEvent(p),ot(t),e.dispatchEvent(h))}function fe(t){e.enabled===!1||e.enablePan===!1||rt(t)}function pt(t){switch(ze(t),b.length){case 1:switch(e.touches.ONE){case V.ROTATE:if(e.enableRotate===!1)return;Me(),l=c.TOUCH_ROTATE;break;case V.PAN:if(e.enablePan===!1)return;_e(),l=c.TOUCH_PAN;break;default:l=c.NONE}break;case 2:switch(e.touches.TWO){case V.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;at(),l=c.TOUCH_DOLLY_PAN;break;case V.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;it(),l=c.TOUCH_DOLLY_ROTATE;break;default:l=c.NONE}break;default:l=c.NONE}l!==c.NONE&&e.dispatchEvent(p)}function ft(t){switch(ze(t),l){case c.TOUCH_ROTATE:if(e.enableRotate===!1)return;Ae(t),e.update();break;case c.TOUCH_PAN:if(e.enablePan===!1)return;Se(t),e.update();break;case c.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;st(t),e.update();break;case c.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;ct(t),e.update();break;default:l=c.NONE}}function Le(t){e.enabled!==!1&&t.preventDefault()}function mt(t){b.push(t)}function dt(t){delete oe[t.pointerId];for(let a=0;a<b.length;a++)if(b[a].pointerId==t.pointerId){b.splice(a,1);return}}function ze(t){let a=oe[t.pointerId];a===void 0&&(a=new A,oe[t.pointerId]=a),a.set(t.pageX,t.pageY)}function me(t){const a=t.pointerId===b[0].pointerId?b[1]:b[0];return oe[a.pointerId]}this.dollyIn=(t=H())=>{le(t),e.update()},this.dollyOut=(t=H())=>{re(t),e.update()},this.getScale=()=>E,this.setScale=t=>{ce(t),e.update()},this.getZoomScale=()=>H(),o!==void 0&&this.connect(o),this.update()}};const Yt=()=>parseInt(gt.replace(/\D+/g,"")),ge=Yt(),cn=i.forwardRef(({makeDefault:r,camera:n,regress:o,domElement:e,enableDamping:f=!0,keyEvents:p=!1,onChange:h,onStart:c,onEnd:l,...g},m)=>{const v=Y(y=>y.invalidate),E=Y(y=>y.camera),P=Y(y=>y.gl),w=Y(y=>y.events),M=Y(y=>y.setEvents),_=Y(y=>y.set),j=Y(y=>y.get),R=Y(y=>y.performance),T=n||E,z=e||w.connected||P.domElement,x=i.useMemo(()=>new Ut(T),[T]);return $(()=>{x.enabled&&x.update()},-1),i.useEffect(()=>(p&&x.connect(p===!0?z:p),x.connect(z),()=>void x.dispose()),[p,z,o,x,v]),i.useEffect(()=>{const y=C=>{v(),o&&R.regress(),h&&h(C)},B=C=>{c&&c(C)},L=C=>{l&&l(C)};return x.addEventListener("change",y),x.addEventListener("start",B),x.addEventListener("end",L),()=>{x.removeEventListener("start",B),x.removeEventListener("end",L),x.removeEventListener("change",y)}},[h,c,l,x,v,M]),i.useEffect(()=>{if(r){const y=j().controls;return _({controls:x}),()=>_({controls:y})}},[r,x]),i.createElement("primitive",k({ref:m,object:x,enableDamping:f},g))});var $e={exports:{}},Ht="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wt=Ht,Zt=Wt;function Be(){}function qe(){}qe.resetWarningCache=Be;var Gt=function(){function r(e,f,p,h,c,l){if(l!==Zt){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function n(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:qe,resetWarningCache:Be};return o.PropTypes=o,o};$e.exports=Gt();var ln=$e.exports,Vt=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Xt extends yt{constructor(n={}){super(n),this.setValues(n),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(n){n.uniforms.time=this._time,n.uniforms.radius=this._radius,n.uniforms.distort=this._distort,n.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Vt}
      ${n.vertexShader}
    `,n.vertexShader=n.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(n){this._time.value=n}get distort(){return this._distort.value}set distort(n){this._distort.value=n}get radius(){return this._radius.value}set radius(n){this._radius.value=n}}const un=i.forwardRef(({speed:r=1,...n},o)=>{const[e]=i.useState(()=>new Xt);return $(f=>e&&(e.time=f.clock.elapsedTime*r)),i.createElement("primitive",k({object:e,ref:o,attach:"material"},n))}),be=ge>=154?"opaque_fragment":"output_fragment";class Kt extends xt{constructor(n){super(n),this.onBeforeCompile=(o,e)=>{const{isWebGL2:f}=e.capabilities;o.fragmentShader=o.fragmentShader.replace(`#include <${be}>`,`
        ${f?`#include <${be}>`:`#extension GL_OES_standard_derivatives : enable
#include <${be}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${ge>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const pn=i.forwardRef((r,n)=>{const[o]=i.useState(()=>new Kt(null));return i.createElement("primitive",k({},r,{object:o,ref:n,attach:"material"}))}),fn=i.forwardRef(({children:r,enabled:n=!0,speed:o=1,rotationIntensity:e=1,floatIntensity:f=1,floatingRange:p=[-.1,.1],autoInvalidate:h=!1,...c},l)=>{const g=i.useRef(null);i.useImperativeHandle(l,()=>g.current,[]);const m=i.useRef(Math.random()*1e4);return $(v=>{var E,P;if(!n||o===0)return;h&&v.invalidate();const w=m.current+v.clock.elapsedTime;g.current.rotation.x=Math.cos(w/4*o)/8*e,g.current.rotation.y=Math.sin(w/4*o)/8*e,g.current.rotation.z=Math.sin(w/4*o)/20*e;let M=Math.sin(w/4*o)/10;M=Et.mapLinear(M,-.1,.1,(E=p==null?void 0:p[0])!==null&&E!==void 0?E:-.1,(P=p==null?void 0:p[1])!==null&&P!==void 0?P:.1),g.current.position.y=M*f,g.current.updateMatrix()}),i.createElement("group",c,i.createElement("group",{ref:g,matrixAutoUpdate:!1},r))});class $t extends Ot{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${ge>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Bt=r=>new S().setFromSpherical(new ve(r,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),mn=i.forwardRef(({radius:r=100,depth:n=50,count:o=5e3,saturation:e=0,factor:f=4,fade:p=!1,speed:h=1},c)=>{const l=i.useRef(),[g,m,v]=i.useMemo(()=>{const P=[],w=[],M=Array.from({length:o},()=>(.5+.5*Math.random())*f),_=new Pt;let j=r+n;const R=n/o;for(let T=0;T<o;T++)j-=R*Math.random(),P.push(...Bt(j).toArray()),_.setHSL(T/o,e,.9),w.push(_.r,_.g,_.b);return[new Float32Array(P),new Float32Array(w),new Float32Array(M)]},[o,n,f,r,e]);$(P=>l.current&&(l.current.uniforms.time.value=P.clock.elapsedTime*h));const[E]=i.useState(()=>new $t);return i.createElement("points",{ref:c},i.createElement("bufferGeometry",null,i.createElement("bufferAttribute",{attach:"attributes-position",args:[g,3]}),i.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3]}),i.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),i.createElement("primitive",{ref:l,object:E,attach:"material",blending:wt,"uniforms-fade-value":p,depthWrite:!1,transparent:!0,vertexColors:!0}))});let W,ne;const qt=i.createContext(null),Ve=new Mt,Xe=new S,Qt=i.forwardRef(({children:r,range:n,limit:o=1e3,...e},f)=>{const p=i.useRef(null);i.useImperativeHandle(f,()=>p.current,[]);const[h,c]=i.useState([]),[[l,g,m]]=i.useState(()=>[new Float32Array(o*3),Float32Array.from({length:o*3},()=>1),Float32Array.from({length:o},()=>1)]);i.useEffect(()=>{p.current.geometry.attributes.position.needsUpdate=!0}),$(()=>{for(p.current.updateMatrix(),p.current.updateMatrixWorld(),Ve.copy(p.current.matrixWorld).invert(),p.current.geometry.drawRange.count=Math.min(o,n!==void 0?n:o,h.length),W=0;W<h.length;W++)ne=h[W].current,ne.getWorldPosition(Xe).applyMatrix4(Ve),Xe.toArray(l,W*3),p.current.geometry.attributes.position.needsUpdate=!0,ne.matrixWorldNeedsUpdate=!0,ne.color.toArray(g,W*3),p.current.geometry.attributes.color.needsUpdate=!0,m.set([ne.size],W),p.current.geometry.attributes.size.needsUpdate=!0});const v=i.useMemo(()=>({getParent:()=>p,subscribe:E=>(c(P=>[...P,E]),()=>c(P=>P.filter(w=>w.current!==E.current)))}),[]);return i.createElement("points",k({userData:{instances:h},matrixAutoUpdate:!1,ref:p,raycast:()=>null},e),i.createElement("bufferGeometry",null,i.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:X}),i.createElement("bufferAttribute",{attach:"attributes-color",count:g.length/3,array:g,itemSize:3,usage:X}),i.createElement("bufferAttribute",{attach:"attributes-size",count:m.length,array:m,itemSize:1,usage:X})),i.createElement(qt.Provider,{value:v},r))}),Jt=i.forwardRef(({children:r,positions:n,colors:o,sizes:e,stride:f=3,...p},h)=>{const c=i.useRef(null);return i.useImperativeHandle(h,()=>c.current,[]),$(()=>{const l=c.current.geometry.attributes;l.position.needsUpdate=!0,o&&(l.color.needsUpdate=!0),e&&(l.size.needsUpdate=!0)}),i.createElement("points",k({ref:c},p),i.createElement("bufferGeometry",null,i.createElement("bufferAttribute",{attach:"attributes-position",count:n.length/f,array:n,itemSize:f,usage:X}),o&&i.createElement("bufferAttribute",{attach:"attributes-color",count:o.length/f,array:o,itemSize:3,usage:X}),e&&i.createElement("bufferAttribute",{attach:"attributes-size",count:e.length/f,array:e,itemSize:1,usage:X})),r)}),dn=i.forwardRef((r,n)=>r.positions instanceof Float32Array?i.createElement(Jt,k({},r,{ref:n})):i.createElement(Qt,k({},r,{ref:n})));export{fn as F,un as M,cn as O,dn as P,mn as S,k as _,rn as a,pn as b,_t as c,an as i,ln as p};
