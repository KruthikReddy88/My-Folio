import{r as ht,a as p}from"./react-vendor-BGrwFi4G.js";import{V as M,a as A,M as G,T as V,S as Ce,Q as ze,O as de,P as he,R as bt,b as vt,c as yt,d as gt,e as xt,f as Et,D as X,g as Pt,W as wt,C as Ot}from"./three-vendor-BzBe96D9.js";import{u as D,a as ne}from"./fiber-vendor-uv_DkpHK.js";var Tt,Ie=ht;Tt=Ie.createRoot,Ie.hydrateRoot;function F(){return F=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)({}).hasOwnProperty.call(o,e)&&(a[e]=o[e])}return a},F.apply(null,arguments)}function K(a,n,o){return n in a?Object.defineProperty(a,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[n]=o,a}function Ne(a,n){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);n&&(e=e.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),o.push.apply(o,e)}return o}function ke(a){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?Ne(Object(o),!0).forEach(function(e){K(a,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):Ne(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}new M;new M;function Xe(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}var _=function a(n,o,e){var f=this;Xe(this,a),K(this,"dot2",function(c,m){return f.x*c+f.y*m}),K(this,"dot3",function(c,m,i){return f.x*c+f.y*m+f.z*i}),this.x=n,this.y=o,this.z=e},Mt=[new _(1,1,0),new _(-1,1,0),new _(1,-1,0),new _(-1,-1,0),new _(1,0,1),new _(-1,0,1),new _(1,0,-1),new _(-1,0,-1),new _(0,1,1),new _(0,-1,1),new _(0,1,-1),new _(0,-1,-1)],Ue=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Fe=new Array(512),Ye=new Array(512),_t=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var o=0;o<256;o++){var e;o&1?e=Ue[o]^n&255:e=Ue[o]^n>>8&255,Fe[o]=Fe[o+256]=e,Ye[o]=Ye[o+256]=Mt[e%12]}};_t(0);function At(a){if(typeof a=="number")a=Math.abs(a);else if(typeof a=="string"){var n=a;a=0;for(var o=0;o<n.length;o++)a=(a+(o+1)*(n.charCodeAt(o)%96))%2147483647}return a===0&&(a=311),a}function He(a){var n=At(a);return function(){var o=n*48271%2147483647;return n=o,o/2147483647}}var St=function a(n){var o=this;Xe(this,a),K(this,"seed",0),K(this,"init",function(e){o.seed=e,o.value=He(e)}),K(this,"value",He(this.seed)),this.init(n)},Dt=new St(Math.random()),jt={radius:1,center:[0,0,0]};function tn(a,n){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dt,e=ke(ke({},jt),n),f=e.radius,c=e.center,m=0;m<a.length;m+=3){var i=Math.pow(o.value(),.3333333333333333),l=o.value()*2-1,h=o.value()*2-1,d=o.value()*2-1,y=Math.sqrt(l*l+h*h+d*d);l=i*l/y,h=i*h/y,d=i*d/y,a[m]=l*f+c[0],a[m+1]=h*f+c[1],a[m+2]=d*f+c[2]}return a}let ee;function nn(){var a;if(ee!==void 0)return ee;try{let n;const o=document.createElement("canvas");return ee=!!(window.WebGL2RenderingContext&&(n=o.getContext("webgl2"))),n&&((a=n.getExtension("WEBGL_lose_context"))==null||a.loseContext()),ee}catch{return ee=!1}}var Rt=Object.defineProperty,Lt=(a,n,o)=>n in a?Rt(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o,Ct=(a,n,o)=>(Lt(a,n+"",o),o);class zt{constructor(){Ct(this,"_listeners")}addEventListener(n,o){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[n]===void 0&&(e[n]=[]),e[n].indexOf(o)===-1&&e[n].push(o)}hasEventListener(n,o){if(this._listeners===void 0)return!1;const e=this._listeners;return e[n]!==void 0&&e[n].indexOf(o)!==-1}removeEventListener(n,o){if(this._listeners===void 0)return;const f=this._listeners[n];if(f!==void 0){const c=f.indexOf(o);c!==-1&&f.splice(c,1)}}dispatchEvent(n){if(this._listeners===void 0)return;const e=this._listeners[n.type];if(e!==void 0){n.target=this;const f=e.slice(0);for(let c=0,m=f.length;c<m;c++)f[c].call(this,n);n.target=null}}}var It=Object.defineProperty,Nt=(a,n,o)=>n in a?It(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o,s=(a,n,o)=>(Nt(a,typeof n!="symbol"?n+"":n,o),o);const ie=new bt,We=new vt,kt=Math.cos(70*(Math.PI/180)),Ze=(a,n)=>(a%n+n)%n;let Ut=class extends zt{constructor(n,o){super(),s(this,"object"),s(this,"domElement"),s(this,"enabled",!0),s(this,"target",new A),s(this,"minDistance",0),s(this,"maxDistance",1/0),s(this,"minZoom",0),s(this,"maxZoom",1/0),s(this,"minPolarAngle",0),s(this,"maxPolarAngle",Math.PI),s(this,"minAzimuthAngle",-1/0),s(this,"maxAzimuthAngle",1/0),s(this,"enableDamping",!1),s(this,"dampingFactor",.05),s(this,"enableZoom",!0),s(this,"zoomSpeed",1),s(this,"enableRotate",!0),s(this,"rotateSpeed",1),s(this,"enablePan",!0),s(this,"panSpeed",1),s(this,"screenSpacePanning",!0),s(this,"keyPanSpeed",7),s(this,"zoomToCursor",!1),s(this,"autoRotate",!1),s(this,"autoRotateSpeed",2),s(this,"reverseOrbit",!1),s(this,"reverseHorizontalOrbit",!1),s(this,"reverseVerticalOrbit",!1),s(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),s(this,"mouseButtons",{LEFT:G.ROTATE,MIDDLE:G.DOLLY,RIGHT:G.PAN}),s(this,"touches",{ONE:V.ROTATE,TWO:V.DOLLY_PAN}),s(this,"target0"),s(this,"position0"),s(this,"zoom0"),s(this,"_domElementKeyEvents",null),s(this,"getPolarAngle"),s(this,"getAzimuthalAngle"),s(this,"setPolarAngle"),s(this,"setAzimuthalAngle"),s(this,"getDistance"),s(this,"getZoomScale"),s(this,"listenToKeyEvents"),s(this,"stopListenToKeyEvents"),s(this,"saveState"),s(this,"reset"),s(this,"update"),s(this,"connect"),s(this,"dispose"),s(this,"dollyIn"),s(this,"dollyOut"),s(this,"getScale"),s(this,"setScale"),this.object=n,this.domElement=o,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=t=>{let r=Ze(t,2*Math.PI),u=d.phi;u<0&&(u+=2*Math.PI),r<0&&(r+=2*Math.PI);let b=Math.abs(r-u);2*Math.PI-b<b&&(r<u?r+=2*Math.PI:u+=2*Math.PI),y.phi=r-u,e.update()},this.setAzimuthalAngle=t=>{let r=Ze(t,2*Math.PI),u=d.theta;u<0&&(u+=2*Math.PI),r<0&&(r+=2*Math.PI);let b=Math.abs(r-u);2*Math.PI-b<b&&(r<u?r+=2*Math.PI:u+=2*Math.PI),y.theta=r-u,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",fe),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",fe),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(f),e.update(),l=i.NONE},this.update=(()=>{const t=new A,r=new A(0,1,0),u=new ze().setFromUnitVectors(n.up,r),b=u.clone().invert(),P=new A,N=new ze,Y=2*Math.PI;return function(){const Le=e.object.position;u.setFromUnitVectors(n.up,r),b.copy(u).invert(),t.copy(Le).sub(e.target),t.applyQuaternion(u),d.setFromVector3(t),e.autoRotate&&l===i.NONE&&se(Qe()),e.enableDamping?(d.theta+=y.theta*e.dampingFactor,d.phi+=y.phi*e.dampingFactor):(d.theta+=y.theta,d.phi+=y.phi);let k=e.minAzimuthAngle,U=e.maxAzimuthAngle;isFinite(k)&&isFinite(U)&&(k<-Math.PI?k+=Y:k>Math.PI&&(k-=Y),U<-Math.PI?U+=Y:U>Math.PI&&(U-=Y),k<=U?d.theta=Math.max(k,Math.min(U,d.theta)):d.theta=d.theta>(k+U)/2?Math.max(k,d.theta):Math.min(U,d.theta)),d.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,d.phi)),d.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(w,e.dampingFactor):e.target.add(w),e.zoomToCursor&&R||e.object.isOrthographicCamera?d.radius=ue(d.radius):d.radius=ue(d.radius*E),t.setFromSpherical(d),t.applyQuaternion(b),Le.copy(e.target).add(t),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(y.theta*=1-e.dampingFactor,y.phi*=1-e.dampingFactor,w.multiplyScalar(1-e.dampingFactor)):(y.set(0,0,0),w.set(0,0,0));let B=!1;if(e.zoomToCursor&&R){let Q=null;if(e.object instanceof he&&e.object.isPerspectiveCamera){const J=t.length();Q=ue(J*E);const re=J-Q;e.object.position.addScaledVector($,re),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const J=new A(S.x,S.y,0);J.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/E)),e.object.updateProjectionMatrix(),B=!0;const re=new A(S.x,S.y,0);re.unproject(e.object),e.object.position.sub(re).add(J),e.object.updateMatrixWorld(),Q=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;Q!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(Q).add(e.object.position):(ie.origin.copy(e.object.position),ie.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(ie.direction))<kt?n.lookAt(e.target):(We.setFromNormalAndCoplanarPoint(e.object.up,e.target),ie.intersectPlane(We,e.target))))}else e.object instanceof de&&e.object.isOrthographicCamera&&(B=E!==1,B&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/E)),e.object.updateProjectionMatrix()));return E=1,R=!1,B||P.distanceToSquared(e.object.position)>h||8*(1-N.dot(e.object.quaternion))>h?(e.dispatchEvent(f),P.copy(e.object.position),N.copy(e.object.quaternion),B=!1,!0):!1}})(),this.connect=t=>{e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",je),e.domElement.addEventListener("pointerdown",Se),e.domElement.addEventListener("pointercancel",q),e.domElement.addEventListener("wheel",De)},this.dispose=()=>{var t,r,u,b,P,N;e.domElement&&(e.domElement.style.touchAction="auto"),(t=e.domElement)==null||t.removeEventListener("contextmenu",je),(r=e.domElement)==null||r.removeEventListener("pointerdown",Se),(u=e.domElement)==null||u.removeEventListener("pointercancel",q),(b=e.domElement)==null||b.removeEventListener("wheel",De),(P=e.domElement)==null||P.ownerDocument.removeEventListener("pointermove",pe),(N=e.domElement)==null||N.ownerDocument.removeEventListener("pointerup",q),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",fe)};const e=this,f={type:"change"},c={type:"start"},m={type:"end"},i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=i.NONE;const h=1e-6,d=new Ce,y=new Ce;let E=1;const w=new A,O=new M,T=new M,L=new M,C=new M,z=new M,I=new M,j=new M,x=new M,g=new M,$=new A,S=new M;let R=!1;const v=[],oe={};function Qe(){return 2*Math.PI/60/60*e.autoRotateSpeed}function H(){return Math.pow(.95,e.zoomSpeed)}function se(t){e.reverseOrbit||e.reverseHorizontalOrbit?y.theta+=t:y.theta-=t}function ve(t){e.reverseOrbit||e.reverseVerticalOrbit?y.phi+=t:y.phi-=t}const ye=(()=>{const t=new A;return function(u,b){t.setFromMatrixColumn(b,0),t.multiplyScalar(-u),w.add(t)}})(),ge=(()=>{const t=new A;return function(u,b){e.screenSpacePanning===!0?t.setFromMatrixColumn(b,1):(t.setFromMatrixColumn(b,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(u),w.add(t)}})(),Z=(()=>{const t=new A;return function(u,b){const P=e.domElement;if(P&&e.object instanceof he&&e.object.isPerspectiveCamera){const N=e.object.position;t.copy(N).sub(e.target);let Y=t.length();Y*=Math.tan(e.object.fov/2*Math.PI/180),ye(2*u*Y/P.clientHeight,e.object.matrix),ge(2*b*Y/P.clientHeight,e.object.matrix)}else P&&e.object instanceof de&&e.object.isOrthographicCamera?(ye(u*(e.object.right-e.object.left)/e.object.zoom/P.clientWidth,e.object.matrix),ge(b*(e.object.top-e.object.bottom)/e.object.zoom/P.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function ce(t){e.object instanceof he&&e.object.isPerspectiveCamera||e.object instanceof de&&e.object.isOrthographicCamera?E=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ae(t){ce(E/t)}function le(t){ce(E*t)}function xe(t){if(!e.zoomToCursor||!e.domElement)return;R=!0;const r=e.domElement.getBoundingClientRect(),u=t.clientX-r.left,b=t.clientY-r.top,P=r.width,N=r.height;S.x=u/P*2-1,S.y=-(b/N)*2+1,$.set(S.x,S.y,1).unproject(e.object).sub(e.object.position).normalize()}function ue(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function Ee(t){O.set(t.clientX,t.clientY)}function Je(t){xe(t),j.set(t.clientX,t.clientY)}function Pe(t){C.set(t.clientX,t.clientY)}function et(t){T.set(t.clientX,t.clientY),L.subVectors(T,O).multiplyScalar(e.rotateSpeed);const r=e.domElement;r&&(se(2*Math.PI*L.x/r.clientHeight),ve(2*Math.PI*L.y/r.clientHeight)),O.copy(T),e.update()}function tt(t){x.set(t.clientX,t.clientY),g.subVectors(x,j),g.y>0?ae(H()):g.y<0&&le(H()),j.copy(x),e.update()}function nt(t){z.set(t.clientX,t.clientY),I.subVectors(z,C).multiplyScalar(e.panSpeed),Z(I.x,I.y),C.copy(z),e.update()}function ot(t){xe(t),t.deltaY<0?le(H()):t.deltaY>0&&ae(H()),e.update()}function at(t){let r=!1;switch(t.code){case e.keys.UP:Z(0,e.keyPanSpeed),r=!0;break;case e.keys.BOTTOM:Z(0,-e.keyPanSpeed),r=!0;break;case e.keys.LEFT:Z(e.keyPanSpeed,0),r=!0;break;case e.keys.RIGHT:Z(-e.keyPanSpeed,0),r=!0;break}r&&(t.preventDefault(),e.update())}function we(){if(v.length==1)O.set(v[0].pageX,v[0].pageY);else{const t=.5*(v[0].pageX+v[1].pageX),r=.5*(v[0].pageY+v[1].pageY);O.set(t,r)}}function Oe(){if(v.length==1)C.set(v[0].pageX,v[0].pageY);else{const t=.5*(v[0].pageX+v[1].pageX),r=.5*(v[0].pageY+v[1].pageY);C.set(t,r)}}function Te(){const t=v[0].pageX-v[1].pageX,r=v[0].pageY-v[1].pageY,u=Math.sqrt(t*t+r*r);j.set(0,u)}function rt(){e.enableZoom&&Te(),e.enablePan&&Oe()}function it(){e.enableZoom&&Te(),e.enableRotate&&we()}function Me(t){if(v.length==1)T.set(t.pageX,t.pageY);else{const u=me(t),b=.5*(t.pageX+u.x),P=.5*(t.pageY+u.y);T.set(b,P)}L.subVectors(T,O).multiplyScalar(e.rotateSpeed);const r=e.domElement;r&&(se(2*Math.PI*L.x/r.clientHeight),ve(2*Math.PI*L.y/r.clientHeight)),O.copy(T)}function _e(t){if(v.length==1)z.set(t.pageX,t.pageY);else{const r=me(t),u=.5*(t.pageX+r.x),b=.5*(t.pageY+r.y);z.set(u,b)}I.subVectors(z,C).multiplyScalar(e.panSpeed),Z(I.x,I.y),C.copy(z)}function Ae(t){const r=me(t),u=t.pageX-r.x,b=t.pageY-r.y,P=Math.sqrt(u*u+b*b);x.set(0,P),g.set(0,Math.pow(x.y/j.y,e.zoomSpeed)),ae(g.y),j.copy(x)}function st(t){e.enableZoom&&Ae(t),e.enablePan&&_e(t)}function ct(t){e.enableZoom&&Ae(t),e.enableRotate&&Me(t)}function Se(t){var r,u;e.enabled!==!1&&(v.length===0&&((r=e.domElement)==null||r.ownerDocument.addEventListener("pointermove",pe),(u=e.domElement)==null||u.ownerDocument.addEventListener("pointerup",q)),mt(t),t.pointerType==="touch"?pt(t):lt(t))}function pe(t){e.enabled!==!1&&(t.pointerType==="touch"?ft(t):ut(t))}function q(t){var r,u,b;dt(t),v.length===0&&((r=e.domElement)==null||r.releasePointerCapture(t.pointerId),(u=e.domElement)==null||u.ownerDocument.removeEventListener("pointermove",pe),(b=e.domElement)==null||b.ownerDocument.removeEventListener("pointerup",q)),e.dispatchEvent(m),l=i.NONE}function lt(t){let r;switch(t.button){case 0:r=e.mouseButtons.LEFT;break;case 1:r=e.mouseButtons.MIDDLE;break;case 2:r=e.mouseButtons.RIGHT;break;default:r=-1}switch(r){case G.DOLLY:if(e.enableZoom===!1)return;Je(t),l=i.DOLLY;break;case G.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;Pe(t),l=i.PAN}else{if(e.enableRotate===!1)return;Ee(t),l=i.ROTATE}break;case G.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;Ee(t),l=i.ROTATE}else{if(e.enablePan===!1)return;Pe(t),l=i.PAN}break;default:l=i.NONE}l!==i.NONE&&e.dispatchEvent(c)}function ut(t){if(e.enabled!==!1)switch(l){case i.ROTATE:if(e.enableRotate===!1)return;et(t);break;case i.DOLLY:if(e.enableZoom===!1)return;tt(t);break;case i.PAN:if(e.enablePan===!1)return;nt(t);break}}function De(t){e.enabled===!1||e.enableZoom===!1||l!==i.NONE&&l!==i.ROTATE||(t.preventDefault(),e.dispatchEvent(c),ot(t),e.dispatchEvent(m))}function fe(t){e.enabled===!1||e.enablePan===!1||at(t)}function pt(t){switch(Re(t),v.length){case 1:switch(e.touches.ONE){case V.ROTATE:if(e.enableRotate===!1)return;we(),l=i.TOUCH_ROTATE;break;case V.PAN:if(e.enablePan===!1)return;Oe(),l=i.TOUCH_PAN;break;default:l=i.NONE}break;case 2:switch(e.touches.TWO){case V.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;rt(),l=i.TOUCH_DOLLY_PAN;break;case V.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;it(),l=i.TOUCH_DOLLY_ROTATE;break;default:l=i.NONE}break;default:l=i.NONE}l!==i.NONE&&e.dispatchEvent(c)}function ft(t){switch(Re(t),l){case i.TOUCH_ROTATE:if(e.enableRotate===!1)return;Me(t),e.update();break;case i.TOUCH_PAN:if(e.enablePan===!1)return;_e(t),e.update();break;case i.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;st(t),e.update();break;case i.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;ct(t),e.update();break;default:l=i.NONE}}function je(t){e.enabled!==!1&&t.preventDefault()}function mt(t){v.push(t)}function dt(t){delete oe[t.pointerId];for(let r=0;r<v.length;r++)if(v[r].pointerId==t.pointerId){v.splice(r,1);return}}function Re(t){let r=oe[t.pointerId];r===void 0&&(r=new M,oe[t.pointerId]=r),r.set(t.pageX,t.pageY)}function me(t){const r=t.pointerId===v[0].pointerId?v[1]:v[0];return oe[r.pointerId]}this.dollyIn=(t=H())=>{le(t),e.update()},this.dollyOut=(t=H())=>{ae(t),e.update()},this.getScale=()=>E,this.setScale=t=>{ce(t),e.update()},this.getZoomScale=()=>H(),o!==void 0&&this.connect(o),this.update()}};const Ft=()=>parseInt(yt.replace(/\D+/g,"")),Ke=Ft(),an=p.forwardRef(({makeDefault:a,camera:n,regress:o,domElement:e,enableDamping:f=!0,keyEvents:c=!1,onChange:m,onStart:i,onEnd:l,...h},d)=>{const y=D(g=>g.invalidate),E=D(g=>g.camera),w=D(g=>g.gl),O=D(g=>g.events),T=D(g=>g.setEvents),L=D(g=>g.set),C=D(g=>g.get),z=D(g=>g.performance),I=n||E,j=e||O.connected||w.domElement,x=p.useMemo(()=>new Ut(I),[I]);return ne(()=>{x.enabled&&x.update()},-1),p.useEffect(()=>(c&&x.connect(c===!0?j:c),x.connect(j),()=>void x.dispose()),[c,j,o,x,y]),p.useEffect(()=>{const g=R=>{y(),o&&z.regress(),m&&m(R)},$=R=>{i&&i(R)},S=R=>{l&&l(R)};return x.addEventListener("change",g),x.addEventListener("start",$),x.addEventListener("end",S),()=>{x.removeEventListener("start",$),x.removeEventListener("end",S),x.removeEventListener("change",g)}},[m,i,l,x,y,T]),p.useEffect(()=>{if(a){const g=C().controls;return L({controls:x}),()=>L({controls:g})}},[a,x]),p.createElement("primitive",F({ref:d,object:x,enableDamping:f},h))});var $e={exports:{}},Yt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ht=Yt,Wt=Ht;function qe(){}function Be(){}Be.resetWarningCache=qe;var Zt=function(){function a(e,f,c,m,i,l){if(l!==Wt){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}a.isRequired=a;function n(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Be,resetWarningCache:qe};return o.PropTypes=o,o};$e.exports=Zt();var rn=$e.exports,Gt=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Vt extends gt{constructor(n={}){super(n),this.setValues(n),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(n){n.uniforms.time=this._time,n.uniforms.radius=this._radius,n.uniforms.distort=this._distort,n.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Gt}
      ${n.vertexShader}
    `,n.vertexShader=n.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(n){this._time.value=n}get distort(){return this._distort.value}set distort(n){this._distort.value=n}get radius(){return this._radius.value}set radius(n){this._radius.value=n}}const sn=p.forwardRef(({speed:a=1,...n},o)=>{const[e]=p.useState(()=>new Vt);return ne(f=>e&&(e.time=f.clock.elapsedTime*a)),p.createElement("primitive",F({object:e,ref:o,attach:"material"},n))}),be=Ke>=154?"opaque_fragment":"output_fragment";class Xt extends xt{constructor(n){super(n),this.onBeforeCompile=(o,e)=>{const{isWebGL2:f}=e.capabilities;o.fragmentShader=o.fragmentShader.replace(`#include <${be}>`,`
        ${f?`#include <${be}>`:`#extension GL_OES_standard_derivatives : enable
#include <${be}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${Ke>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const cn=p.forwardRef((a,n)=>{const[o]=p.useState(()=>new Xt(null));return p.createElement("primitive",F({},a,{object:o,ref:n,attach:"material"}))}),ln=p.forwardRef(({children:a,enabled:n=!0,speed:o=1,rotationIntensity:e=1,floatIntensity:f=1,floatingRange:c=[-.1,.1],autoInvalidate:m=!1,...i},l)=>{const h=p.useRef(null);p.useImperativeHandle(l,()=>h.current,[]);const d=p.useRef(Math.random()*1e4);return ne(y=>{var E,w;if(!n||o===0)return;m&&y.invalidate();const O=d.current+y.clock.elapsedTime;h.current.rotation.x=Math.cos(O/4*o)/8*e,h.current.rotation.y=Math.sin(O/4*o)/8*e,h.current.rotation.z=Math.sin(O/4*o)/20*e;let T=Math.sin(O/4*o)/10;T=Et.mapLinear(T,-.1,.1,(E=c==null?void 0:c[0])!==null&&E!==void 0?E:-.1,(w=c==null?void 0:c[1])!==null&&w!==void 0?w:.1),h.current.position.y=T*f,h.current.updateMatrix()}),p.createElement("group",i,p.createElement("group",{ref:h,matrixAutoUpdate:!1},a))});let W,te;const Kt=p.createContext(null),Ge=new Pt,Ve=new A,$t=p.forwardRef(({children:a,range:n,limit:o=1e3,...e},f)=>{const c=p.useRef(null);p.useImperativeHandle(f,()=>c.current,[]);const[m,i]=p.useState([]),[[l,h,d]]=p.useState(()=>[new Float32Array(o*3),Float32Array.from({length:o*3},()=>1),Float32Array.from({length:o},()=>1)]);p.useEffect(()=>{c.current.geometry.attributes.position.needsUpdate=!0}),ne(()=>{for(c.current.updateMatrix(),c.current.updateMatrixWorld(),Ge.copy(c.current.matrixWorld).invert(),c.current.geometry.drawRange.count=Math.min(o,n!==void 0?n:o,m.length),W=0;W<m.length;W++)te=m[W].current,te.getWorldPosition(Ve).applyMatrix4(Ge),Ve.toArray(l,W*3),c.current.geometry.attributes.position.needsUpdate=!0,te.matrixWorldNeedsUpdate=!0,te.color.toArray(h,W*3),c.current.geometry.attributes.color.needsUpdate=!0,d.set([te.size],W),c.current.geometry.attributes.size.needsUpdate=!0});const y=p.useMemo(()=>({getParent:()=>c,subscribe:E=>(i(w=>[...w,E]),()=>i(w=>w.filter(O=>O.current!==E.current)))}),[]);return p.createElement("points",F({userData:{instances:m},matrixAutoUpdate:!1,ref:c,raycast:()=>null},e),p.createElement("bufferGeometry",null,p.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:X}),p.createElement("bufferAttribute",{attach:"attributes-color",count:h.length/3,array:h,itemSize:3,usage:X}),p.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:X})),p.createElement(Kt.Provider,{value:y},a))}),qt=p.forwardRef(({children:a,positions:n,colors:o,sizes:e,stride:f=3,...c},m)=>{const i=p.useRef(null);return p.useImperativeHandle(m,()=>i.current,[]),ne(()=>{const l=i.current.geometry.attributes;l.position.needsUpdate=!0,o&&(l.color.needsUpdate=!0),e&&(l.size.needsUpdate=!0)}),p.createElement("points",F({ref:i},c),p.createElement("bufferGeometry",null,p.createElement("bufferAttribute",{attach:"attributes-position",count:n.length/f,array:n,itemSize:f,usage:X}),o&&p.createElement("bufferAttribute",{attach:"attributes-color",count:o.length/f,array:o,itemSize:3,usage:X}),e&&p.createElement("bufferAttribute",{attach:"attributes-size",count:e.length/f,array:e,itemSize:1,usage:X})),a)}),un=p.forwardRef((a,n)=>a.positions instanceof Float32Array?p.createElement(qt,F({},a,{ref:n})):p.createElement($t,F({},a,{ref:n})));function pn({all:a,scene:n,camera:o}){const e=D(({gl:m})=>m),f=D(({camera:m})=>m),c=D(({scene:m})=>m);return p.useLayoutEffect(()=>{const m=[];a&&(n||c).traverse(h=>{h.visible===!1&&(m.push(h),h.visible=!0)}),e.compile(n||c,o||f);const i=new wt(128);new Ot(.01,1e5,i).update(e,n||c),i.dispose(),m.forEach(h=>h.visible=!1)},[]),null}export{ln as F,sn as M,an as O,un as P,F as _,tn as a,cn as b,pn as c,Tt as d,nn as i,rn as p};
